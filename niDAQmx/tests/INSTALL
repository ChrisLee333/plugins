1. Installation

To install the unittests for niDAQmx, copy base_data.py to data.py, then, if necessary, edit data.py according to the instructions given below.

2. Modify data.py

The niDAQmx plugin uses the National Instruments (NI) C function library to contol installed NI hardware. There is great variety of functionality in NI hardware. Not every device supports all possible data acquisition and control functions supported by the library. Consequently, a developer working on the niDAQmx plugin must tailor the unittests available in the ../niDAQmx/tests directory to conform to the NI hardware on the development machine he/she uses. This is accomplished by editing the data.py file in the tests directory.

The data.py file is a module from which each test imports the params_strings element. This element is a dictionary comprised of keyword/value pairs, each pair defining a value used by the tests. For example, the "aiChParamsDev" keyword defines the device used to test analog input functionality. By default its value is "Dev1". The "aiChParamsCh" keyword defines the channel used for analog input testing. By default its value is "/ai0". The default values may or may not be valid for a particular development machine. It may be that analog input for a particular machine must use the "Dev2" device, in which case, the dictionary should be edited so the aiChParamsDev pair becomes: "aiChParamsDev" : "Dev2"

Consideration of an actual system configuration may make this clearer. One machine used for niDAQmx plugin developement has two NI PIC cards installed: 1) a PCI-6220, and 2) a PCI-4461. The PCI-6220 supports analog input, digital input and output as well as clock input and output. The PCI-4461 supports both analog input and output, but not digital or clock functionality. On this machine the PCI-6220 corresponds to Dev1 and the PCI-4461 corresponds to Dev2.

In order to run the unit tests on this machine, the "aoChParamsDev" entry in the dictionary must be changed so its value is no longer "Dev1", but rather, "Dev2". Also the developer has the option of using either Dev1 or Dev2 to test analog input. In the former case the default value for "aiChParamsDev" sufficies. However, if the developer wishes to use the PCI-4461 for analog input testing, then the dictionary entry for "aiChParamsDev" must be changed to: "aiChParamsDev" : "Dev2".
